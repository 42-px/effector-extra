"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("effector");function t(t){const r=t.domain?t.domain.effect({name:"effect",sid:"-xn2rd6"}):e.createEffect({name:"effect",sid:"-x614yz"});return r.use(e=>{let r=t.effect(t.mapParams(e),{name:"promise",sid:"-9qez7q"});return t.mapResult&&(r=r.then(r=>t.mapResult({params:e,result:r}))),t.mapError&&(r=r.catch(r=>{throw t.mapError({params:e,error:r})})),r}),r}exports.attachWrapper=t,exports.batchEvents=function(t,r){const a=e.createEvent({name:"event",sid:"-qsq21n"}),n=e.createEvent({name:"pushStore",sid:"-99i15u"}),o=e.createEvent({name:"resetStore",sid:"-ka34j3"}),c=e.createEvent({name:"timeoutEnd",sid:"-8qf3eg"}),s=e.createStore([],{name:"$storedEvents",sid:"tj0mgu"});let i;return s.on(n,(e,t)=>[...e,t]).reset(o),t.watch(e=>{void 0!==i?(clearTimeout(i),n(e)):a([e]),i=setTimeout(()=>{i=void 0,c()},r)}),e.guard({"ɔ":[{source:e.sample({"ɔ":[s,c,e=>e],config:{name:"source",sid:"4pit6z"}}),filter:s.map(e=>Boolean(e.length))}],config:{sid:"c06kr4"}}).watch(e=>{a(e),o()}),a},exports.createService=function({domain:r,effect:a}){return{createMethod:function(n){return e.withFactory({sid:"7v5c9k",fn:()=>t({domain:r,effect:a,...n}),name:"none",method:"attachWrapper"})}}},exports.mockEffects=()=>new Map,exports.mockStores=()=>new Map;
//# sourceMappingURL=effector-extra.cjs.js.map
