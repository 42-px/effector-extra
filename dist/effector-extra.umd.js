!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("effector")):"function"==typeof define&&define.amd?define(["exports","effector"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).EffectorExtra={},e.effector)}(this,(function(e,t){"use strict";function r(e){const r=e.domain?e.domain.effect({name:"effect",sid:"-xn2rd6"}):t.createEffect({name:"effect",sid:"-x614yz"});return r.use((t=>{let r=e.effect(e.mapParams(t),{name:"promise",sid:"-9qez7q"});return e.mapResult&&(r=r.then((r=>e.mapResult({params:t,result:r})))),e.mapError&&(r=r.catch((r=>{throw e.mapError({params:t,error:r})}))),r})),r}e.attachWrapper=r,e.batchEvents=function(e,r){const n=t.createEvent({name:"event",sid:"-qsq21n"}),o=t.createEvent({name:"pushStore",sid:"-99i15u"}),a=t.createEvent({name:"resetStore",sid:"-ka34j3"}),c=t.createEvent({name:"timeoutEnd",sid:"-8qf3eg"}),f=t.createStore([],{name:"$storedEvents",sid:"tj0mgu"});let s;return f.on(o,((e,t)=>[...e,t])).reset(a),e.watch((e=>{void 0!==s?(clearTimeout(s),o(e)):n([e]),s=setTimeout((()=>{s=void 0,c()}),r)})),t.guard({and:[{source:t.sample({and:[{source:f,clock:c,fn:e=>e}],or:{name:"source",sid:"4pit6z"}}),filter:f.map((e=>Boolean(e.length)))}],or:{sid:"c06kr4"}}).watch((e=>{n(e),a()})),n},e.createService=function({domain:e,effect:n}){return{createMethod:function(o){return t.withFactory({sid:"7v5c9k",fn:()=>r({domain:e,effect:n,...o}),name:"none",method:"attachWrapper"})}}},e.mockEffects=()=>new Map,e.mockStores=()=>new Map,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=effector-extra.umd.js.map
